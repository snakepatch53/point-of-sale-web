import{h as O,i as A,u as I,k as M,j as e,P as S,l as V,m as B,e as L,C as R}from"./index-D9Xxbm4X.js";import{u as z,C as G,a as H,b as _,c as s,d as J,e as K,f as l,g as Q}from"./CrudInput-nugYlvBy.js";import{B as b}from"./Button-BS3uwBQQ.js";import"./Search-6GARPoev.js";function $(){const h=(a,t,{isEmail:N})=>{var i,d,n,u,c,p,m,x;let r=!0;return(i=a.password)!=null&&i.value&&((n=(d=a.password)==null?void 0:d.value)==null?void 0:n.length)<8&&(t("La contrase単a debe tener minimo 8 caracteres"),r=!1),(c=(u=a.photo)==null?void 0:u.files)!=null&&c.length&&((m=(p=a.photo)==null?void 0:p.files[0])==null?void 0:m.size)>2e6&&(t("La foto debe pesar maximo 2MB"),r=!1),N((x=a.email)==null?void 0:x.value)||(t("El correo electronico no es valido"),r=!1),r},{entityName:C,pluralEntityName:j,head:f,table:v,form:g,confirm:E,progress:y,datalist:F,$form:U,handleModeNew:k,handleModeEdit:P,handleModeDelete:T,hanleCancel:o,handleSubmit:q,handleDelete:w,handleSearch:D}=z({entityName:"Usuario",pluralEntityName:"Usuarios",excludeFieldsValidationEdit:["password","photo"],searchFields:["name","lastname","email","role"],extraValidations:h,isStorageMultipartFormData:!0,isUpdateMultipartFormData:!0,crudGet:O,crudStorage:A,crudUpdate:I,crudDestroy:M});return e.jsxs(S,{className:"flex flex-col gap-7 w-full p-3",children:[e.jsx(G,{title:j,icon:V,isOpen:f,onClickNew:k,handleSearch:D}),e.jsx(H,{titles:["Foto","Nombre","Apellido","Email","Privilegio"],dataList:F,isOpen:v,onRowPrint:a=>e.jsxs("tr",{children:[e.jsx(_,{src:a.photo_url,alt:"Foto "+a.name}),e.jsx(s,{value:a.name}),e.jsx(s,{value:a.lastname}),e.jsx(s,{value:a.email}),e.jsx(s,{value:a.role}),e.jsxs(J,{children:[e.jsx(b,{icon:B,type:"edit",onClick:()=>P(a),classIcon:"text-[--c3-txt2]"}),e.jsx(b,{icon:L,type:"delete",onClick:()=>T(a),classIcon:"text-[--c3-txt2]"})]})]},a.id)}),e.jsxs(K,{title:C,isOpen:g,onClickCancel:o,onSubmit:q,formRef:U,children:[e.jsx(l,{label:"Nombres",placeholder:"Escriba los nombres",name:"name",required:!0}),e.jsx(l,{label:"Apellidos",placeholder:"Escriba los apellidos",name:"lastname",required:!0}),e.jsx(l,{label:"Celular",placeholder:"Escriba su numero de celular",name:"phone",required:!0}),e.jsx(l,{label:"Direccion",placeholder:"Escriba una direccion",name:"address",required:!0}),e.jsx(l,{label:"Correo Electronico",placeholder:"Escriba el correo electronico",name:"email",required:!0}),e.jsx(l,{label:"Contrase単a",placeholder:"Escriba la contrase単a",type:"password",name:"password",required:!0}),e.jsx(l,{name:"role",label:"Privilegios",type:"radio",radioOptions:[{value:"Administrador",label:"Administrador",checked:!0},{value:"Vendedor",label:"Vendedor"},{value:"Cliente",label:"Cliente"}],required:!0}),e.jsx(l,{name:"state",label:"Estado",type:"radio",radioOptions:[{value:"Activo",label:"Activo",checked:!0},{value:"Inactivo",label:"Inactivo"}],required:!0}),e.jsx(l,{label:"Foto",name:"photo",type:"file"})]}),e.jsx(Q,{isOpen:E,text:"多Seguro de eliminar este usuario?",onClickDelete:w,onClickCancel:o}),e.jsx(R,{isOpen:y,text:"Procesando tu solicitud..."})]})}export{$ as default};
