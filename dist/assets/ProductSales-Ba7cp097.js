import{a as s,j as e,P as b,l as g,n as T,C as w}from"./index-D9Xxbm4X.js";import{u as E,C as N,a as v,c as o,d as F,e as O,f as d,g as k}from"./CrudInput-nugYlvBy.js";import{B as D}from"./Button-BS3uwBQQ.js";import"./Search-6GARPoev.js";const n="productSales";function B(a){return a.map(({...t})=>({...t}))}async function I(){const a=await s({resource:n+"?includeClient=true"});return B(a)}async function R({data:a}){return await s({resource:n,data:a,method:"POST",all:!0})}async function U({id:a,data:t}){return await s({resource:n+"/"+a,data:t,method:"PUT",all:!0})}async function q({id:a}){return await s({resource:n+"/"+a,method:"DELETE",all:!0})}function A(){const{entityName:a,pluralEntityName:t,head:l,table:i,form:p,confirm:m,progress:x,datalist:f,$form:C,handleModeNew:h,handleModeDelete:j,hanleCancel:c,handleSubmit:P,handleDelete:S,handleSearch:y}=E({entityName:"Venta",pluralEntityName:"Ventas",searchFields:["name","description"],crudGet:I,crudStorage:R,crudUpdate:U,crudDestroy:q});return e.jsxs(b,{className:"flex flex-col gap-7 w-full p-3",children:[e.jsx(N,{title:t,icon:g,isOpen:l,onClickNew:h,handleSearch:y,rightButtonComponent:!0}),e.jsx(v,{titles:["Fecha","Cliente","Total"],dataList:f,isOpen:i,onRowPrint:r=>{var u;return e.jsxs("tr",{children:[e.jsx(o,{value:r.date_str}),e.jsx(o,{value:(u=r==null?void 0:r.client)==null?void 0:u.name}),e.jsx(o,{value:"$"+r.total}),e.jsx(F,{children:e.jsx(D,{icon:T,type:"delete",onClick:()=>j(r),classIcon:"text-[--c3-txt2]"})})]},r.id)}}),e.jsxs(O,{title:a,isOpen:p,onClickCancel:c,onSubmit:P,formRef:C,children:[e.jsx(d,{label:"Fecha de venta",placeholder:"Escriba la fecha ",name:"date",required:!0}),e.jsx(d,{label:"Iva",placeholder:"Escriba el iva  ",name:"tax",required:!0})]}),e.jsx(k,{isOpen:m,text:"Â¿Seguro de eliminar esta venta?",onClickDelete:S,onClickCancel:c}),e.jsx(w,{isOpen:x,text:"Procesando tu solicitud..."})]})}export{A as default};
