import{f as s,j as e,P as y}from"./index-DKYCmnMZ.js";import{u as T,C as w,a as E,c as o,d as N,e as v,f as d,g as F}from"./CrudInput-CIJeCB1M.js";import{C as O}from"./ClientRouter-B1RYgFJW.js";import{c as k,o as D,p as B}from"./index.es-gRuHa-HP.js";import{B as i}from"./Button-gzgfriZS.js";import"./Search-DvZNMIQ2.js";const n="productSales";function I(a){return a.map(({...t})=>({...t}))}async function R(){const a=await s({resource:n+"?includeClient=true"});return I(a)}async function U({data:a}){return await s({resource:n,data:a,method:"POST",all:!0})}async function q({id:a,data:t}){return await s({resource:n+"/"+a,data:t,method:"PUT",all:!0})}async function L({id:a}){return await s({resource:n+"/"+a,method:"DELETE",all:!0})}function _(){const{entityName:a,pluralEntityName:t,head:l,table:p,form:m,confirm:f,progress:x,datalist:C,$form:h,handleModeNew:j,handleModeDelete:P,hanleCancel:c,handleSubmit:S,handleDelete:b,handleSearch:g}=T({entityName:"Venta",pluralEntityName:"Ventas",searchFields:["name","description"],crudGet:R,crudStorage:U,crudUpdate:q,crudDestroy:L});return e.jsxs(y,{className:"flex flex-col gap-7 w-full p-3",children:[e.jsx(w,{title:t,icon:k,isOpen:l,onClickNew:j,handleSearch:g,rightButtonComponent:!0}),e.jsx(E,{titles:["Fecha","Cliente","Total"],dataList:C,isOpen:p,onRowPrint:r=>{var u;return e.jsxs("tr",{children:[e.jsx(o,{value:r.date_str}),e.jsx(o,{value:(u=r==null?void 0:r.client)==null?void 0:u.name}),e.jsx(o,{value:"$"+r.total}),e.jsxs(N,{children:[e.jsx(i,{icon:D,onClick:()=>P(r),classIcon:"text-[--c3-txt2]"}),e.jsx(i,{icon:B,classIcon:"text-[--c3-txt2]"})]})]},r.id)}}),e.jsxs(v,{title:a,isOpen:m,onClickCancel:c,onSubmit:S,formRef:h,children:[e.jsx(d,{label:"Fecha de venta",placeholder:"Escriba la fecha ",name:"date",required:!0}),e.jsx(d,{label:"Iva",placeholder:"Escriba el iva  ",name:"tax",required:!0})]}),e.jsx(F,{isOpen:f,text:"Â¿Seguro de eliminar esta venta?",onClickDelete:b,onClickCancel:c}),e.jsx(O,{isOpen:x,text:"Procesando tu solicitud..."})]})}export{_ as default};
