import{e as O,h as A,i as I,k as M,j as e,P as S}from"./index-DKYCmnMZ.js";import{u as V,C as B,a as L,b as R,c as s,d as z,e as G,f as r,g as H}from"./CrudInput-CIJeCB1M.js";import{C as _}from"./ClientRouter-B1RYgFJW.js";import{c as J,n as K,m as Q}from"./index.es-gRuHa-HP.js";import{B as b}from"./Button-gzgfriZS.js";import"./Search-DvZNMIQ2.js";function ae(){const h=(a,o,{isEmail:N})=>{var i,d,n,u,c,p,m,x;let l=!0;return(i=a.password)!=null&&i.value&&((n=(d=a.password)==null?void 0:d.value)==null?void 0:n.length)<8&&(o("La contrase単a debe tener minimo 8 caracteres"),l=!1),(c=(u=a.photo)==null?void 0:u.files)!=null&&c.length&&((m=(p=a.photo)==null?void 0:p.files[0])==null?void 0:m.size)>2e6&&(o("La foto debe pesar maximo 2MB"),l=!1),N((x=a.email)==null?void 0:x.value)||(o("El correo electronico no es valido"),l=!1),l},{entityName:C,pluralEntityName:j,head:f,table:v,form:g,confirm:E,progress:y,datalist:F,$form:U,handleModeNew:k,handleModeEdit:P,handleModeDelete:T,hanleCancel:t,handleSubmit:q,handleDelete:w,handleSearch:D}=V({entityName:"Usuario",pluralEntityName:"Usuarios",excludeFieldsValidationEdit:["password","photo"],searchFields:["name","lastname","email","role"],extraValidations:h,isStorageMultipartFormData:!0,isUpdateMultipartFormData:!0,crudGet:O,crudStorage:A,crudUpdate:I,crudDestroy:M});return e.jsxs(S,{className:"flex flex-col gap-7 w-full p-3",children:[e.jsx(B,{title:j,icon:J,isOpen:f,onClickNew:k,handleSearch:D}),e.jsx(L,{titles:["Foto","Nombre","Apellido","Email","Privilegio"],dataList:F,isOpen:v,onRowPrint:a=>e.jsxs("tr",{children:[e.jsx(R,{src:a.photo_url,alt:"Foto "+a.name}),e.jsx(s,{value:a.name}),e.jsx(s,{value:a.lastname}),e.jsx(s,{value:a.email}),e.jsx(s,{value:a.role}),e.jsxs(z,{children:[e.jsx(b,{icon:K,type:"edit",onClick:()=>P(a),classIcon:"text-[--c3-txt2]"}),e.jsx(b,{icon:Q,type:"delete",onClick:()=>T(a),classIcon:"text-[--c3-txt2]"})]})]},a.id)}),e.jsxs(G,{title:C,isOpen:g,onClickCancel:t,onSubmit:q,formRef:U,children:[e.jsx(r,{label:"Nombres",placeholder:"Escriba los nombres",name:"name",required:!0}),e.jsx(r,{label:"Apellidos",placeholder:"Escriba los apellidos",name:"lastname",required:!0}),e.jsx(r,{label:"Celular",placeholder:"Escriba su numero de celular",name:"phone",required:!0}),e.jsx(r,{label:"Direccion",placeholder:"Escriba una direccion",name:"address",required:!0}),e.jsx(r,{label:"Correo Electronico",placeholder:"Escriba el correo electronico",name:"email",required:!0}),e.jsx(r,{label:"Contrase単a",placeholder:"Escriba la contrase単a",type:"password",name:"password",required:!0}),e.jsx(r,{name:"role",label:"Privilegios",type:"radio",radioOptions:[{value:"Administrador",label:"Administrador",checked:!0},{value:"Vendedor",label:"Vendedor"},{value:"Cliente",label:"Cliente"}],required:!0}),e.jsx(r,{name:"state",label:"Estado",type:"radio",radioOptions:[{value:"Activo",label:"Activo",checked:!0},{value:"Inactivo",label:"Inactivo"}],required:!0}),e.jsx(r,{label:"Foto",name:"photo",type:"file"})]}),e.jsx(H,{isOpen:E,text:"多Seguro de eliminar este usuario?",onClickDelete:w,onClickCancel:t}),e.jsx(_,{isOpen:y,text:"Procesando tu solicitud..."})]})}export{ae as default};
